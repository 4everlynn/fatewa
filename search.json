[{"categories":null,"content":"The director of fatewa  4everlynn is alias for Edward Jobs, Since 2012, I have been involved in programming, from RGSS to Java, JavaScript, PHP and Golang  Led the fatewa team and participated in many projects, including but not limited to  Unileverâ€™s H5 Page Sinaâ€™s teachers' grand ceremony Page Construction of official websites of several companies Open-Source Software  ","description":"","tags":null,"title":"Fatewa | 4everlynn","uri":"/fatewa/about/"},{"categories":["docker"],"content":" ç½‘ç«™ å¯¹äºæ¯ä¸ªäººéƒ½ä¸é™Œç”Ÿï¼Œæˆ‘ä»¬æ¯å¤©éƒ½åœ¨ä¸å„ç§ä¸åŒçš„ç½‘ç«™è¿›è¡Œäº’åŠ¨ï¼Œéšç€ä¿¡æ¯åŒ–ä¸æ–­å‘å±•ï¼Œå¾ˆå¤šå…¬å¸ä¸ä¸ªäººéƒ½æ‹¥æœ‰äº†è‡ªå·±çš„ç½‘ç«™ï¼Œå¾ˆå¤šæ—¶å€™åšç½‘ç«™çš„å¿µå¤´éƒ½æ­¢æ­¥äºæŠ€æœ¯é™åˆ¶ï¼Œé‚£ä¹ˆä»Šå¤©ï¼Œæˆ‘å°±ä»‹ç»ä¸€ä¸ªè®©å¤§å®¶å¯ä»¥å¾ˆå¿«æ­å»ºèµ·è‡ªå·±ç½‘ç«™çš„æ–¹æ³•ï¼Œå¦‚æœè¿™æ­£æ˜¯æ‚¨æ‰€éœ€çš„å°±ç»§ç»­çœ‹ä¸‹å»å§ï¼\n WordPress æ­£å¦‚ä½ æ‰€è§,ä»Šå¤©è¦ä»‹ç»çš„å°±æ˜¯å¤§åé¼é¼çš„ WordPressï¼Œä½¿ç”¨ WordPress ï¼Œæ‚¨ä»…éœ€è¦ä¸€ç‚¹ç‚¹å¸¸ç”¨çš„è®¡ç®—æœºçŸ¥è¯†å³å¯ï¼Œå¦‚æœæ‚¨å¯¹å®ƒè¿˜ä¸è®¤è¯†ï¼Œé‚£ä¹ˆä»¥ä¸‹æ˜¯ ç»´åŸºç™¾ç§‘ å¯¹äº WordPress çš„ä¸€æ®µæè¿°:\n WordPressæ˜¯ä¸€ä¸ªä»¥PHPå’ŒMySQLä¸ºå¹³å°çš„è‡ªç”±å¼€æºçš„åšå®¢è½¯ä»¶å’Œå†…å®¹ç®¡ç†ç³»ç»Ÿã€‚WordPresså…·æœ‰æ’ä»¶æ¶æ„å’Œæ¨¡æ¿ç³»ç»Ÿã€‚ æˆªè‡³2018å¹´4æœˆï¼Œæ’åå‰1000ä¸‡çš„ç½‘ç«™ä¸­è¶…è¿‡30.6%ä½¿ç”¨WordPressã€‚ WordPressæ˜¯æœ€å—æ¬¢è¿çš„ç½‘ç«™å†…å®¹ç®¡ç†ç³»ç»Ÿã€‚ å…¨çƒæœ‰å¤§çº¦30%çš„ç½‘ç«™(7äº¿5000ä¸ª)éƒ½æ˜¯ä½¿ç”¨WordPressæ¶è®¾ç½‘ç«™çš„ã€‚ WordPressæ˜¯ç›®å‰å› ç‰¹ç½‘ä¸Šæœ€æµè¡Œçš„åšå®¢ç³»ç»Ÿã€‚ WordPressåœ¨æœ€è‘—åçš„ç½‘ç»œå‘å¸ƒé˜¶æ®µä¸­è„±é¢–è€Œå‡ºã€‚ å¦‚ä»Šï¼Œå®ƒè¢«ä½¿ç”¨åœ¨è¶…è¿‡7000ä¸‡ä¸ªç«™ç‚¹ä¸Šã€‚\n æˆ–è®¸ä½ å¯¹äºå…¶ä¸­çš„ä¸€äº›ä¸“ä¸šæœ¯è¯­å¹¶ä¸äº†è§£ï¼Œæ²¡å…³ç³»ï¼åªè¦çŸ¥é“è¿™æ˜¯ä¸€ä¸ªå¾ˆå¯é çš„ç³»ç»Ÿå³å¯ã€‚\nå¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº WordPress çš„çŸ¥è¯†ï¼Œå¯ä»¥è®¿é—® Wordpress ä¸­æ–‡å®˜ç½‘\næ€ä¹ˆåš ï¼Ÿ è™½ç„¶ Wordpress å¤šä»¥å®‰è£…ç®€ä¾¿è‘—ç§°ï¼Œä½†ä½œä¸ºæ²¡æœ‰ä»»ä½•ç›¸å…³çŸ¥è¯†çš„ç¾¤ä½“ï¼Œæƒ³è¦æˆåŠŸå®‰è£…ä»ç„¶å…·æœ‰ä¸€å®šéš¾åº¦ï¼ŒæŒ‰ç…§ä¼ ç»Ÿçš„æ–¹å¼è¿›è¡Œå®‰è£…ï¼Œæ­å»ºPHPçš„è¿è¡Œç¯å¢ƒå°±æ˜¯åŸºç¡€ï¼Œè¿™ä¸€æ­¥å¯èƒ½å°±ä¼šåŠé€€å¾ˆå¤§ä¸€éƒ¨åˆ†äººï¼Œé‚£ä¹ˆä»Šå¤©æˆ‘è¦ä»‹ç»çš„å°±æ˜¯ä½¿ç”¨ Docker è¿›è¡Œå®‰è£…çš„æ–¹å¼ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œåªéœ€è¦æœ‰ä¸€å° Linux çš„ä¸»æœºå³å¯(éœ€è¦æ”¯æŒDockerè¿è¡Œ)\nå…³äº Docker åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä¸å¯¹ Docker è¿›è¡Œè¿‡å¤šçš„ä»‹ç»ï¼Œåç»­çš„ç¯‡ç« ä¸­æˆ‘ä¼šé€æ­¥åœ°ä»‹ç»è¿™ä¸ªæœåŠ¡å®¹å™¨åŒ–æ—¶ä»£è¶…çº§ğŸ”¥çš„å¼€æºå·¥å…·ï¼Œé‚£ä¹ˆè‡³å°‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œåªéœ€è¦èƒ½å¤Ÿå®‰è£…å¹¶ç®€å•ä½¿ç”¨å³å¯\nå®‰è£… Docker åœ¨ CentOS 7 å®‰è£…dockerè¦æ±‚ç³»ç»Ÿä¸º64ä½ã€ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ä¸º 3.10 ä»¥ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰æœºå™¨çš„ç‰ˆæœ¬\n1  uname -r   è¿è¡Œç»“æœå‚è€ƒ\n1 2 3  [root@disware ~]# uname -r 3.10.0-693.5.2.el7.x86_64 [root@disware ~]#    å®‰è£…å®Œæˆåå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡ŒéªŒè¯\n1  docker -v   è¿è¡Œç»“æœå‚è€ƒ\n1 2  [root@disware ~]# docker -v Docker version 18.09.5, build e8ff056   å®‰è£…å®Œæˆï¼Œæˆ‘ä»¬æ¥ç€å®‰è£… docker-composeï¼Œç”±äºè¿™ä¸ªåœ¨å›½å†…å®‰è£…æ¯”è¾ƒæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™é‡Œæä¾›çš„åŠ é€ŸæœåŠ¡è¿›è¡Œå®‰è£…\nä»¥ä¸‹æ˜¯å®‰è£… docker-compose çš„å‘½ä»¤\n1 2  curl -L https://get.daocloud.io/docker/compose/releases/download/1.25.5/docker-compose-`uname -s`-`uname -m` \u003e /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose   å®‰è£…å®Œæˆåï¼ŒåŒæ ·åœ°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡ŒéªŒè¯\n1  docker-compose -v   è¿è¡Œç»“æœå‚è€ƒ\n1 2  [root@disware ~]# docker-compose -v docker-compose version 1.25.4, build 8d51620a   åˆ›å»ºæœåŠ¡æ–‡ä»¶å¤¹ åœ¨æ­¤å¤„æˆ‘ä»¥ /opt/wordpress è¿™ä¸ªæ–‡ä»¶å¤¹ä¸ºä¾‹\n1  mkdir /opt/wordpress \u0026\u0026 cd /opt/wordpress   ç¼–å†™ .env æ–‡ä»¶ è¿™ä¸ªæ–‡ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯é…ç½®ä¸€äº›ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç®€å•åœ°ç†è§£æˆç±»ä¼¼äºæŸä¸ªè½¯ä»¶çš„é…ç½®é¡¹, åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬æ‰§è¡Œ\n1  vi .env   æ¥ç€å°†ä»¥ä¸‹å†…å®¹è¾“å…¥åˆ°å…¶ä¸­\n1 2 3 4 5 6 7 8  # æ•°æ®åº“åç§° DB_NAME=my_website # æ•°æ®åº“ ç”¨æˆ·å DB_USER=root # æ•°æ®åº“ å¯†ç  DB_PASSWORD=root123 # æ•°æ®åº“ HOSTåç§° HOST_MYSQL=mysql   æœ‰äº†è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç´§æ¥ç€è¿›è¡Œç¼–å†™ docker-compose.yml (æœåŠ¡ç»“æ„çš„æè¿°æ–‡ä»¶)\n1  vi docker-compose.yml   è¾“å…¥å†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  version:'3'services:wordpress:image:wordpresshostname:wordpressports:- \"9812:80\"environment:DB_HOST:${HOST_MYSQL}DB_NAME:${DB_NAME}DB_USER:${DB_USER}DB_PASSWORD:${DB_PASSWORD}volumes:- ./data/wordpress/root:/var/www/html- ./logs/php/:/var/log/php/:rwdepends_on:- mysqlmysql:image:mysql:5.7hostname:${HOST_MYSQL}volumes:- ./data/mysql:/var/lib/mysql- ./my.cnf:/etc/my.cnfrestart:alwaysenvironment:MYSQL_ROOT_PASSWORD:${DB_PASSWORD}  ç„¶åï¼Œç”±äºæˆ‘ä»¬çš„ç½‘ç«™ä¸­ä¼šæœ‰ä¸€äº›ä¸­æ–‡å­—ç¬¦ï¼Œæ‰€ä»¥éœ€è¦å¯¹æ•°æ®åº“çš„å­—ç¬¦é›†è¿›è¡Œä¸€ä¸ªé…ç½®, åœ¨å½“å‰ç›®å½•ä¸‹æ‰§è¡Œ\n1  vi my.cnf   è¾“å…¥å†…å®¹å¦‚ä¸‹\n[mysqld] user=mysql default-storage-engine=INNODB character-set-server=utf8 [client] default-character-set=utf8 [mysql] default-character-set=utf8 å¯åŠ¨æœåŠ¡ å¦‚æœä½ é¡ºåˆ©äº†è¿›è¡Œä»¥ä¸Šçš„å…¨éƒ¨æ­¥éª¤ï¼Œæ­å–œï¼æˆ‘ä»¬å¯ä»¥å¯åŠ¨è‡ªå·±çš„ç½‘ç«™äº†ï¼\nåœ¨å½“å‰ç›®å½•ä¸‹ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå³å¯ä»¥åå°çš„å½¢å¼å¯åŠ¨åº”ç”¨\n1  docker-compose up -d   å¦‚æœåœ¨ç»ˆç«¯ä¸­ï¼Œä½ çœ‹åˆ°äº†ä»¥ä¸‹è¾“å‡ºï¼Œé‚£ä¹ˆåº”ç”¨æ­£å¼å¯åŠ¨äº†\n1 2 3 4  [root@disware wordpress]# docker-compose up -d Creating network \"wordpress_default\" with the default driver Creating wordpress_mysql_1 ... done Creating wordpress_wordpress_1 ... done   åœ¨æ­£å¼å®‰è£…ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ›å»ºä¸€ä¸ªç©ºçš„æ•°æ®åº“\n1 2 3 4 5 6  docker exec -ti wordpress_mysql_1 mysql -u root -proot123 create database `my_website`; exit    åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ http://localhost(æˆ–è€… Linux IP):9812 å³å¯çœ‹åˆ°å®‰è£…ç•Œé¢\n é€‰æ‹©å®Œè¯­è¨€åï¼Œä½ ä¼šçœ‹åˆ°è¿™æ ·ä¸€ä¸ªè¡¨å•, æŒ‰ç…§ä»¥ä¸‹å†…å®¹å¡«å†™å³å¯\n   åç§° å†…å®¹     æ•°æ®åº“å my_website   ç”¨æˆ·å root   å¯†ç  root123   æ•°æ®åº“ä¸»æœº mysql   è¡¨å‰ç¼€ wp_    åˆ°æ­¤ï¼Œ Wordpress å°±å®‰è£…å®Œæˆäº†ï¼Œåç»­å¡«å†™ç”¨æˆ·åã€å¯†ç ï¼Œç™»é™†å³å¯\n","description":"","tags":["docker","wordpress","docker-compose"],"title":"Fatewa | 4everlynn","uri":"/fatewa/posts/wordpress/"},{"categories":["docker"],"content":"å‰è¨€ æŠ€æœ¯åœˆçš„å‘å±•ä¸€ç›´ä»¥æ¥éƒ½æ˜¯ç¬æ¯ä¸‡å˜ï¼Œä»å»å¹´å¼€å§‹ 5G æŠ€æœ¯é€æ¸è½åœ°å•†ç”¨ï¼Œäººå·¥æ™ºèƒ½ä¹Ÿæ…¢æ…¢åœ°æˆç†Ÿï¼Œå°±å‘å±•è€Œè¨€è¿™å‡ å¹´çš„é€Ÿåº¦å¯ä»¥è¯´æ˜¯è¾¾åˆ°äº†ä¸€ä¸ªéå¸¸ææ€–çš„åœ°æ­¥ï¼Œåœ¨è¿ç»´é¢†åŸŸï¼ŒæŠ€æœ¯ä¹Ÿæ˜¯æ—¥æ–°æœˆå¼‚ï¼Œè€Œæˆ‘ä»¬ä»Šå¤©è¦ä»‹ç»çš„ docker å°±æ˜¯è¿™äº›å¹´åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å·²ç»å¹¿æ³›è¢«åº”ç”¨çš„ä¸€é—¨æŠ€æœ¯ã€‚\nä»¥ä¸‹æ˜¯ç™¾åº¦ç™¾ç§‘ä¸­å¯¹äº docker çš„ä¸€æ®µä»‹ç»\n Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­,ç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„Linuxæœºå™¨æˆ–Windows æœºå™¨ä¸Š,ä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–,å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶,ç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ã€‚\n ä»€ä¹ˆæ˜¯å®¹å™¨ å®¹å™¨ ä¸ è™šæ‹Ÿæœº éå¸¸æ¥è¿‘ï¼Œå´åˆä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œç›¸è¾ƒäºè™šæ‹Ÿæœºæ²‰é‡çš„æ¶æ„ï¼Œå®¹å™¨å¯ä»¥è¯´æ˜¯æ‹¥æœ‰éå¸¸è‹—æ¡çš„ â€˜èº«æâ€™ï¼Œå®ƒå¯ä»¥åœ¨å‡ ç§’å†…å¯åŠ¨ï¼Œå¹¶èƒ½ä¸å®¿ä¸»æœºç›´æ¥è¿›è¡Œé€šè®¯ï¼Œä¸è™šæ‹Ÿæœºä¸åŒçš„æ˜¯ï¼Œå®¹å™¨æ‰€èƒ½åšåˆ°çš„éš”ç¦»ï¼Œé€šå¸¸æ˜¯è¿›ç¨‹çº§åˆ«çš„ï¼Œåœ¨èµ„æºä¸Šå®ƒæ˜¯ä¸å®¿ä¸»æœºå…±äº«çš„ï¼Œä¸¥æ ¼æ¥è¯´å®¹å™¨å¹¶ä¸æ˜¯çœŸæ­£çš„è™šæ‹ŸåŒ–ã€‚ä½œä¸ºå¼€å‘ã€è¿ç»´æ—¶ä½¿ç”¨ï¼Œæˆ‘ä»¬çš„æ¯ä¸€ä¸ªæœåŠ¡ã€åº”ç”¨éƒ½å¯¹åº”ä¸€ä¸ªå®¹å™¨ï¼Œä½œä¸ºåº”ç”¨è¿è¡Œæ—¶ç¯å¢ƒï¼Œå®¹å™¨å†…éƒ¨ä¸€èˆ¬ä¼šè£…è½½busyboxã€alpineç­‰éå¸¸è½»é‡çš„æ“ä½œç³»ç»Ÿã€‚\nå®‰è£… docker (ä»¥ CentOS 7 ä¸ºä¾‹) å®‰è£… yum æº åœ¨ç»ˆç«¯ä¸­è¾“å…¥\n1  curl -f sSL https://get.docker.com/ | sh -s -- --mirror AzureChinaCloud   æ›´æ–° yum ç¼“å­˜ 1  yum makecache fast   å®‰è£…æœ€æ–°ç‰ˆ docker 1  yum -y install docker-engine   å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€éªŒ\n1  docker -v   docker æ”¯æŒçš„å‘½ä»¤ ï¼ˆåˆ—ä¸¾å¸¸ç”¨ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  Commands: build Build an image from a Dockerfile commit Create a new image from a container's changes exec Run a command in a running container images List images logs Fetch the logs of a container ps List containers pull Pull an image or a repository from a registry push Push an image or a repository to a registry restart Restart one or more containers rm Remove one or more containers rmi Remove one or more images run Run a command in a new container start Start one or more stopped containers stop Stop one or more running containers tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE top Display the running processes of a container version Show the Docker version information   Hello World æŒ‰ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬ä»¥ Hello World,ä½œä¸ºæŠ€æœ¯å…¥é—¨çš„æ¡ˆä¾‹, æˆ‘ä»¬ä½¿ç”¨ pull å‘½ä»¤ï¼Œæ‹‰å– docker-hub å®˜æ–¹ä»“åº“ä¸­çš„ hello-world é•œåƒ\n1  docker pull hello-world   ç„¶å è¾“å…¥\n1  docker run hello-world   æ­¤æ—¶ç»ˆç«¯ä¼šè¾“å‡ºä¸‹é¢è¿™æ®µè‹±æ–‡\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  Hello from Docker! This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. (amd64) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker ID: https://hub.docker.com/ For more examples and ideas, visit: https://docs.docker.com/get-started/   è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº† docker æœ€åŸºç¡€çš„åº”ç”¨\né…ç½®é•œåƒä»“åº“ åœ¨å®é™…ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨å›½å†…é•œåƒè¿›è¡ŒåŠ é€Ÿ(docker-hub æ‹‰å–å¤§é•œåƒéå¸¸æ…¢)ï¼Œæ‰€ä»¥åœ¨æ­¤å¤„æˆ‘ä»¬ç»§ç»­è¿›è¡Œé•œåƒé…ç½®ã€‚\n1  vi /etc/docker/daemon.json   è¾“å…¥ä»¥ä¸‹å†…å®¹\n1 2 3 4 5 6 7 8  { \"registry-mirrors\": [ \"https://1nj0zren.mirror.aliyuncs.com\", \"https://docker.mirrors.ustc.edu.cn\", \"http://f1361db2.m.daocloud.io\", \"https://registry.docker-cn.com\" ] }   æ¥ç€ï¼Œæˆ‘ä»¬é‡å¯ docker æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆ\n1  systemctl restart docker   ","description":"","tags":["docker"],"title":"Fatewa | 4everlynn","uri":"/fatewa/posts/docker/"}]
